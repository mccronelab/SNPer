params {
    consensus_min_qual_score = 30
    consensus_threshold = 0.5
    consensus_min_depth = 10
    variant_min_mapQ = 20
    variant_freq_threshold = 0.01
}

profiles {
    test {
        params{
            reference_fasta = './data/sars_reference/NC_045512.fa'
            reference_gff = './data/sars_reference/protein_annotations.gff3'
            primer_bed = './data/primers/SARS-CoV-2_V4.1_primers_alt_overlap_sites.bed'
            primer_fasta = './data/primers/v5.3.2_400_primers.fa'
            primer_pairs = './data/primers/v5.3.2_400_primer_pairs.tsv'
            sample_sheet = './testSampleSheet.csv'
            output_dir = "./test-out"
            tiled_amplicons = true
        }
        docker{
            enabled = true
        }
        process{
            container = 'quay.io/mccronelab/snper:latest'
        }

        
    }

    rhino {
        process.executor = 'slurm'
        process.scratch = true
        report.overwrite = true
        apptainer.enabled = true
        process.container = 'quay.io/mccronelab/snper:latest'
        executor.queueSize = 200
    }

    rhino_test {
        process.executor = 'slurm'
        process.scratch = true
        report.overwrite = true
        apptainer.enabled = true
        process.container = 'quay.io/mccronelab/snper:latest'
        executor.queueSize = 200

        params{
            reference_fasta = './data/sars_reference/NC_045512.fa'
            reference_gff = './data/sars_reference/protein_annotations.gff3'
            primer_bed = './data/primers/SARS-CoV-2_V4.1_primers_alt_overlap_sites.bed'
            primer_fasta = './data/primers/v5.3.2_400_primers.fa'
            primer_pairs = './data/primers/v5.3.2_400_primer_pairs.tsv'
            sample_sheet = './testSampleSheet.csv'
            output_dir = "./test-out"
            tiled_amplicons = true
        }
    }
}
